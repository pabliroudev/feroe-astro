---
import BaseLayout from "../layouts/BaseLayout.astro";
import PageHeader from "../components/PageHeader.astro";

const candidatos = [
  {
    nombre: "Klara S√∏rensen",
    cargo: "L√≠der del partido",
    foto: "klara.jpeg",
    descripcion:
      "Klara S√∏rensen es una pol√≠tica feroesa nacida en T√≥rshvan el 15 de octubre de 1986. De madre diplom√°tica y padre ingeniero de telecomunicaciones, S√∏rensen mostr√≥ inter√©s por la pol√≠tica desde joven, participando en la vida cultural y pol√≠tica del archipi√©lago. Curs√≥ el doble grado de Ciencia Pol√≠tica y Relaciones Internacionales en la Universidad de Cambridge; ha realizado dos m√°sters, uno en Procesos de Autodeterminaci√≥n y Sistemas Pol√≠ticos N√≥rdicos en la Universidad de las Islas Feroe y otro en Sistemas Electorales y Prevenci√≥n contra la Corrupci√≥n en la Universidad Aut√≥noma de Barcelona. Durante su etapa universitaria particip√≥ en movimientos juveniles vinculados a la izquierda y al independientismo democr√°tico. Habla de manera fluida el dan√©s, fero√©s, espa√±ol, catal√°n, ingl√©s, franc√©s y √°rabe. Se incorpor√≥ al partido de la Rep√∫blica en su juventud, destacando por su capacidad de oratoria y enfoque progresista. Fue elegida diputada en el L√∏gting, centrando su labor en pol√≠ticas sociales, igualdad de g√©nero y sostenibilidad ambiental. A√±os m√°s tarde, en 2019, asumi√≥ el liderazgo del partido.",
    destacado: true,
  },
  {
    nombre: "Andrias Poulsen",
    cargo: "Director de Comunicaci√≥n",
    foto: "andrias.jpeg",
    descripcion:
      "Poulsen naci√≥ en T√≥rshavn el 19 de abril de 1990. Estudi√≥ Ciencias Pol√≠ticas y Comunicaci√≥n en Fr√≥√∞skaparsetur F√∏roya (Universidad de las Islas Feroe), donde se interes√≥ especialmente por la Comunicaci√≥n Pol√≠tica, participando en revistas estudiantiles y en Unga Tj√≥√∞veldi√∞ (la juventud del partido Rep√∫blica). Curs√≥ parte de la carrera en la Universidad de Bergen (Noruega) gracias a un programa de intercambios, donde perfeccion√≥ el uso de idiomas como el noruego o el ingl√©s y el conocimiento de estudios n√≥rdicos y de pol√≠tica comparada. Su formaci√≥n culminar√≠a con un M√°ster en Relaciones Internacionales en la Universidad de Oslo, que le proporcion√≥ conocimientos en Diplomacia y Derecho Internacional. Actualmente es el Director de Comunicaci√≥n del Partido Rep√∫blica de las Islas Feroe. Utiliza su formaci√≥n en Ciencia Pol√≠tica, Diplomacia e idiomas (ingl√©s, fero√©s, dan√©s y noruego) para ocupar un puesto clave en el partido, no como un ‚Äúpol√≠tico cl√°sico‚Äù sino como ide√≥logo y comunicador.",
  },
  {
    nombre: "Elin Joensen",
    cargo: "Jefa de campa√±a",
    foto: "elin.jpeg",
    descripcion:
      "Elin Joensen naci√≥ el 14 de marzo de 1988 en T√≥rshavn, Islas Feroe. Estudi√≥ Ciencias Pol√≠ticas y Administraci√≥n P√∫blica en la Universidad de las Islas Feroe, donde se especializ√≥ en sistemas de gobierno n√≥rdicos y participaci√≥n ciudadana. Complet√≥ su formaci√≥n con un m√°ster en Comunicaci√≥n Pol√≠tica y Estrategia Electoral en la Universidad de Copenhague. Inici√≥ su trayectoria profesional como asesora parlamentaria y analista de pol√≠ticas p√∫blicas, trabajando en campa√±as locales y en el dise√±o de estrategias de movilizaci√≥n juvenil. Actualmente es la jefa de campa√±a del partido Rep√∫blica de Feroe.",
  },
  {
    nombre: "Friederik Nielsen",
    cargo: "Community Manager",
    foto: "friederik.jpeg",
    descripcion:
      "Friederik Nielsen naci√≥ el 22 de septiembre de 1985 en Klaksv√≠k, Islas Feroe. Curs√≥ estudios en Ciencias Pol√≠ticas y Filosof√≠a en la Universidad de las Islas Feroe, donde centr√≥ su investigaci√≥n en los modelos de democracia participativa y las tradiciones asamblearias n√≥rdicas. Posteriormente ampli√≥ su formaci√≥n con un m√°ster en Gobernanza y An√°lisis Pol√≠tico en la Universidad de Aarhus, Dinamarca. Comenz√≥ su carrera profesional como investigador en el Instituto de Historia Social y Pol√≠tica de T√≥rshavn, colaborando asiduamente con medios de comunicaci√≥n como analista pol√≠tico y columnista. Su compromiso con el activismo social lo llev√≥ a implicarse en movimientos vecinales y asambleas ciudadanas, donde desarroll√≥ las bases de su pensamiento pol√≠tico centrado en la soberan√≠a popular.",
  },
  {
    nombre: "Sofia Petersen",
    cargo: "Community Manager",
    foto: "sofia.jpeg",
    descripcion:
      "Sof√≠a Petersen es una profesional especializada en comunicaci√≥n pol√≠tica y estrategia digital, con experiencia en campa√±as electorales y gesti√≥n de imagen p√∫blica de partidos emergentes. Graduada en Comunicaci√≥n Audiovisual por la Universidad de Aalborg (Dinamarca), ampli√≥ su formaci√≥n con un M√°ster en Comunicaci√≥n Pol√≠tica y Gesti√≥n de Campa√±as Electorales en la Universidad de Copenhague. Actualmente trabaja como Community Manager del Partido Republicano Fero√©s, donde se encarga de dise√±ar la estrategia de comunicaci√≥n en redes sociales, coordinar campa√±as digitales, monitorizar la percepci√≥n p√∫blica del partido y elaborar contenidos dirigidos especialmente al electorado joven.",
  },
  {
    nombre: "Hannah Olsen",
    cargo: "Community Manager",
    foto: "hannah.jpeg",
    descripcion:
      "Directora de redes sociales / Community Manager del Partido Rep√∫blica en las Islas Feroe. Naci√≥ el 27 de julio de 1998 en Oslo, de familia con ra√≠ces feroesas. Estudi√≥ un doble grado de Relaciones P√∫blicas-Marketing y Organizaci√≥n de eventos, protocolo y comunicaci√≥n corporativa en la Universidad de Oslo. Posteriormente curs√≥ un doctorado en Campa√±as n√≥rdicas y el uso propagand√≠stico de las redes sociales. Habla fero√©s, dan√©s, noruego, espa√±ol, ingl√©s y alem√°n.",
  },
];

const principal = candidatos.find((c) => c.destacado) ?? candidatos[0];
const resto = candidatos.filter((c) => c !== principal);
---

<BaseLayout title="Qui√©nes somos" description="Historia, valores y equipo de FEROE.">
  <PageHeader
    title="Qui√©nes somos"
    description="Secci√≥n lista para contar historia, valores, principios y equipo."
  />

  <section class="section">
    <div class="container">
      <div class="grid cols-2">
        <div class="card">
          <h2 class="h2">Misi√≥n</h2>
          <p class="muted" style="margin:0">
            Construir una organizaci√≥n abierta, con propuesta pol√≠tica clara, mecanismos de participaci√≥n y rendici√≥n de cuentas.
          </p>
        </div>

        <div class="card">
          <h2 class="h2">Valores</h2>
          <ul class="muted" style="margin:0; padding-left: 18px">
            <li>Transparencia y buen gobierno</li>
            <li>Participaci√≥n ciudadana</li>
            <li>Justicia social y oportunidades</li>
            <li>Sostenibilidad y futuro</li>
          </ul>
        </div>
      </div>

      <div class="section compact"></div>

      <div class="card">
        <h2 class="h2">Equipo</h2>
        <p class="muted" style="margin: 6px 0 0">
          Haz click en una persona para ver su descripci√≥n.
        </p>

        <div class="team-area" style="margin-top: 18px">
          <!-- Principal centrado -->
          <div class="team-featured">
            <button
              type="button"
              class="person-card is-featured"
              data-nombre={principal.nombre}
              data-cargo={principal.cargo}
              data-foto={`${principal.foto}`}
              data-descripcion={principal.descripcion}
              aria-label={`Ver descripci√≥n de ${principal.nombre}`}
            >
              <img class="person-photo" src={`${principal.foto}`} alt={`Foto de ${principal.nombre}`} loading="lazy" />
              <div class="person-footer">
                <div class="person-name">{principal.nombre}</div>
                <div class="person-role">{principal.cargo}</div>
              </div>
            </button>
          </div>

          <!-- Grid del resto -->
          <div class="team-grid">
            {resto.map((p) => (
              <button
                type="button"
                class="person-card"
                data-nombre={p.nombre}
                data-cargo={p.cargo}
                data-foto={`${p.foto}`}
                data-descripcion={p.descripcion}
                aria-label={`Ver descripci√≥n de ${p.nombre}`}
              >
                <img class="person-photo" src={`${p.foto}`} alt={`Foto de ${p.nombre}`} loading="lazy" />
                <div class="person-footer">
                  <div class="person-name">{p.nombre}</div>
                  <div class="person-role">{p.cargo}</div>
                </div>
              </button>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MODAL -->
  <dialog id="personDialog" class="person-dialog">
    <div class="dialog-head">
      <div class="dialog-meta">
        <div class="dialog-role" id="dlgCargo"></div>
        <div class="dialog-name" id="dlgNombre"></div>
      </div>
      <button type="button" class="dialog-close" id="dlgClose" aria-label="Cerrar">‚úï</button>
    </div>

    <div class="dialog-body">
      <img id="dlgFoto" class="dialog-photo" alt="" />
      <div class="dialog-text" id="dlgDesc"></div>
    </div>
  </dialog>

  <style>
    /* ===== Layout equipo ===== */
    .team-area{ display: grid; gap: 22px; }
    .team-featured{ display: flex; justify-content: center; }

    .team-grid{
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 360px));
      gap: 22px;
      justify-content: center; /* centra el conjunto */
    }

    /* Centrar √∫ltima fila cuando sobran 1 o 2 */
    .team-grid > :last-child:nth-child(3n + 1){ grid-column: 2; }
    .team-grid > :nth-last-child(2):nth-child(3n + 1){ grid-column: 2; }

    /* ===== Tarjeta ===== */
    .person-card{
      border: 0;
      background: transparent;
      padding: 0;
      text-align: left;
      width: 100%;
      max-width: 360px;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(2,6,23,.12);
      transition: transform .15s ease, box-shadow .15s ease;
      display: block;
    }

    .person-card:focus-visible{
      outline: none;
      box-shadow: 0 0 0 3px rgba(20,184,166,.35), 0 12px 26px rgba(2,6,23,.14);
    }

    .person-card:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(2,6,23,.16);
    }

    .person-card.is-featured{ max-width: 380px; }

    .person-photo{
      width: 100%;
      height: 190px;
      object-fit: cover;
      display: block;
      background: #e9eef2;
    }

    .person-footer{
  background: #fff;
  padding: 14px 14px 16px;
  text-align: center;       /* üëà centrado como antes */
  border-top: 1px solid rgba(15,23,42,.06);
}

    .person-photo{
  width: 100%;
  height: 190px;
  object-fit: cover;
  object-position: 50% 25%; /* üëà sube el encuadre para ver caras */
  display: block;
  background: #e9eef2;
}

    .person-name{
  margin: 0;
  font-weight: 800;
  color: rgba(15,23,42,.92);
  font-size: 18px;          /* üëà como antes (m√°s marcado) */
  line-height: 1.15;
}

.person-role{
  margin: 8px 0 0;
  font-size: 11px;
  letter-spacing: .18em;    /* üëà m√°s ‚Äúlabel‚Äù */
  text-transform: uppercase;
  font-weight: 800;
  color: rgba(15,23,42,.58);
}

    /* ===== Modal ===== */
    .person-dialog{
      width: min(920px, calc(100vw - 32px));
      border: 0;
      border-radius: 14px;
      padding: 0;
      box-shadow: 0 22px 60px rgba(2,6,23,.28);
      overflow: hidden;
      background: #fff;
    }

    .person-dialog::backdrop{
      background: rgba(2,6,23,.45);
      backdrop-filter: blur(3px);
    }

    .dialog-head{
      display: flex;
      align-items: start;
      justify-content: space-between;
      gap: 12px;
      padding: 16px 16px 12px;
      border-bottom: 1px solid rgba(15,23,42,.08);
      background: linear-gradient(180deg, rgba(20,184,166,.10), rgba(255,255,255,1));
    }

    .dialog-role{
      font-size: 11px;
      letter-spacing: .14em;
      text-transform: uppercase;
      font-weight: 900;
      color: rgba(15,23,42,.60);
    }

    .dialog-name{
      margin-top: 6px;
      font-size: 20px;
      font-weight: 900;
      color: rgba(15,23,42,.92);
      line-height: 1.1;
    }

    .dialog-close{
      border: 1px solid rgba(15,23,42,.12);
      background: #fff;
      border-radius: 10px;
      padding: 6px 10px;
      cursor: pointer;
      font-weight: 900;
    }

    .dialog-body{
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 14px;
      padding: 16px;
    }

    .dialog-photo{
      width: 100%;
      height: 320px;
      object-fit: cover;
      border-radius: 12px;
      border: 1px solid rgba(15,23,42,.08);
      background: #e9eef2;
    }

    .dialog-text{
      color: rgba(15,23,42,.78);
      line-height: 1.7;
      font-size: 14px;
      max-height: 320px;
      overflow: auto;
      padding-right: 6px;
      white-space: pre-wrap;
    }

    @media (max-width: 980px){
      .team-grid{ grid-template-columns: repeat(2, minmax(0, 360px)); }
      .team-grid > :last-child:nth-child(3n + 1),
      .team-grid > :nth-last-child(2):nth-child(3n + 1){ grid-column: auto; }
      .dialog-body{ grid-template-columns: 1fr; }
      .dialog-photo{ height: 240px; }
      .dialog-text{ max-height: 260px; }
    }

    @media (max-width: 620px){
      .team-grid{ grid-template-columns: 1fr; }
      .person-photo{ height: 210px; }
    }
  </style>

  <script is:inline>
    document.addEventListener("DOMContentLoaded", () => {
      const dialog = document.getElementById("personDialog");
      const closeBtn = document.getElementById("dlgClose");

      const dlgNombre = document.getElementById("dlgNombre");
      const dlgCargo = document.getElementById("dlgCargo");
      const dlgFoto = document.getElementById("dlgFoto");
      const dlgDesc = document.getElementById("dlgDesc");

      if (!(dialog instanceof HTMLDialogElement)) return;

      const openFromCard = (btn) => {
        dlgNombre.textContent = btn.dataset.nombre || "";
        dlgCargo.textContent = btn.dataset.cargo || "";
        dlgDesc.textContent = btn.dataset.descripcion || "";

        const foto = btn.dataset.foto || "";
        dlgFoto.src = foto;
        dlgFoto.alt = btn.dataset.nombre ? `Foto de ${btn.dataset.nombre}` : "Foto";

        dialog.showModal();
      };

      document.querySelectorAll(".person-card").forEach((btn) => {
        btn.addEventListener("click", () => openFromCard(btn));
      });

      closeBtn?.addEventListener("click", () => dialog.close());

      dialog.addEventListener("click", (e) => {
        // click fuera -> cerrar
        const rect = dialog.getBoundingClientRect();
        const inside =
          e.clientX >= rect.left &&
          e.clientX <= rect.right &&
          e.clientY >= rect.top &&
          e.clientY <= rect.bottom;
        if (!inside) dialog.close();
      });
    });
  </script>
</BaseLayout>